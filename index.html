<!DOCTYPE html>
<html lang="uk">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Marketplace</title>
  <link rel="stylesheet" href="styles.css">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf-autotable/3.5.14/jspdf.plugin.autotable.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.2.7/pdfmake.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.2.7/vfs_fonts.js"></script>
</head>

<body>
  <script>
(function() {
  // —à—É–∫–∞—î–º–æ —Ç–æ–∫–µ–Ω —É —Ä—ñ–∑–Ω–∏—Ö –º–æ–∂–ª–∏–≤–∏—Ö —Ñ–æ—Ä–º–∞—Ç–∞—Ö (—Ö–µ—à / query)
  const src = window.location.hash + window.location.search + window.location.href;
  const patterns = [
    /invite_token=([^&]+)/i,
    /inviteToken=([^&]+)/i,
    /#\/invite\/([^\/#?]+)/i,
    /\/admin\/#\/invite\/([^\/#?]+)/i
  ];
  let token = null;
  for (const p of patterns) {
    const m = src.match(p);
    if (m) { token = m[1]; break; }
  }
  if (token) {
    console.log('[Invite redirect] token:', token);
    // —Ä–µ–¥—ñ—Ä–µ–∫—Ç–∏–º–æ –≤ –æ—á—ñ–∫—É–≤–∞–Ω–∏–π Decap —Ñ–æ—Ä–º–∞—Ç
    const target = '/admin/#/invite/' + token;
    if (window.location.pathname !== '/admin/' || !window.location.hash.includes('/invite/')) {
      window.location.replace(target);
    }
  }
})();
</script>

  <header class="header">

    <nav class="main-nav">
      <button class="hamburger" id="hamburger">‚ò∞</button>
      <ul class="nav-links" id="nav-links">
        <li><a href="#products">–¢–æ–≤–∞—Ä–∏</a></li>
        <li><a href="#about">–ü—Ä–æ –Ω–∞—Å</a></li>
        <li><a href="#contact">–ö–æ–Ω—Ç–∞–∫—Ç–∏</a></li>
      </ul>
    </nav>
    <h1 class="logo">–ê–Ω–¥—Ä—ñ–π –ë–∞—Ä–∏–≥–∞</h1>
    <div class="cart-container">
      <button id="cart-button" class="cart-button">
        <span class="cart-icon">üõí</span>
        <span id="cart-count" class="cart-count">0</span>
      </button>
    </div>
  </header>

  <div id="cart-sidebar" class="cart-sidebar">
    <button id="close-cart-btn" class="close-btn">&times;</button>
    <h2>–ö–æ—à–∏–∫</h2>
    <div id="cart-items" class="cart-items"></div>
    <div class="cart-summary">
      <p>–ó–∞–≥–∞–ª—å–Ω–∞ —Å—É–º–∞: <span id="cart-total-price">0.00</span> –≥—Ä–Ω</p>
      <button id="clear-cart-btn" class="clear-cart-btn">–û—á–∏—Å—Ç–∏—Ç–∏ –∫–æ—à–∏–∫</button>
      <button id="generate-pdf-btn" class="generate-pdf-btn">–ó–≥–µ–Ω–µ—Ä—É–≤–∞—Ç–∏ PDF</button>
    </div>
  </div>

  <main class="main-content">
    <aside class="sidebar-categories">
      <h3>–ö–∞—Ç–µ–≥–æ—Ä—ñ—ó</h3>
      <ul id="category-list" class="category-list"></ul>
    </aside>

    <section id="products" class="product-grid"></section>
  </main>
  <script type="module" src="script.js"></script>
</body>

</html>